<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Garage - ATICAS CAFE'</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=UnifrakturCook:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="navbar-left">
            <img src="images/1b.jpg" alt="Cafeteria Logo" class="logo">
            <span class="cafeteria-name">ATICAS GARAGE</span>
        </div>
        <div class="navbar-center">
            <div class="moving-text">Welcome to <b>Aticas Garage</b>. Your trusted partner for professional car maintenance and repair services. Open from Mon - Sat @ 8:00am - 6:00pm</div>
        </div>
        <div class="navbar-right">
            <a href="cart.html" class="cart-icon"><i class="fas fa-shopping-cart"></i><span class="cart-count" id="cartCount">0</span></a>
            <button class="login-btn" id="loginBtn">Login</button>
            <div class="hamburger-menu" id="hamburgerMenu">
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <a href="index.html"><i class="fas fa-home"></i> Home</a>
        <a href="about.html"><i class="fas fa-info-circle"></i> About Us</a>
        <a href="menu.html"><i class="fas fa-utensils"></i> Menu</a>
        <a href="butchery.html"><i class="fas fa-double-knives"></i> Butchery</a>
        <a href="garage.html"><i class="fas fa-car"></i> Garage</a>
        <a href="carwash.html"><i class="fas fa-shower"></i> Car Wash</a>
        <a href="our-services.html"><i class="fas fa-concierge-bell"></i> Our Services</a>
        <a href="orders.html"><i class="fas fa-receipt"></i> My Orders</a>
        <a href="contact.html"><i class="fas fa-envelope"></i> Contact</a>
        <a href="gallery.html"><i class="fas fa-gallery"></i> Gallery</a>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="video-container">
            <img src="images/1.jpg" alt="Garage Services" style="width:100%;height:100%;object-fit:cover;">
            <div class="video-blocker"></div>
            <div class="video-overlay">
                <h1 class="typewriter-on-scroll">Professional Garage Services</h1>
                <p>Expert car maintenance and repairs at affordable prices</p>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section class="meals-section">
        <h2 class="typewriter-on-scroll">Our Garage Services</h2>
        <div class="services-list" style="display:flex;flex-direction:row;gap:2rem;align-items:stretch;justify-content:center;margin-top:2.5rem;flex-wrap:wrap;">
            <div class="service-container" style="background:#f7fff7;padding:2rem 1.5rem;border-radius:14px;box-shadow:0 2px 12px rgba(39,174,96,0.08);max-width:340px;width:100%;text-align:center;transition:box-shadow 0.3s,border 0.3s,transform 0.3s;border:2px solid transparent;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;">
                <h3 class="typewriter-on-scroll" style="color:#27ae60;font-family:'Segoe UI', Arial, sans-serif;">Oil Change</h3>
                <p>Complete oil change service with premium oils.</p>
                <button onclick="selectService('Oil Change')" class="menu-btn" style="margin-top:1rem;">Book Now</button>
            </div>
            <div class="service-container" style="background:#f7fff7;padding:2rem 1.5rem;border-radius:14px;box-shadow:0 2px 12px rgba(39,174,96,0.08);max-width:340px;width:100%;text-align:center;transition:box-shadow 0.3s,border 0.3s,transform 0.3s;border:2px solid transparent;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;">
                <h3 class="typewriter-on-scroll" style="color:#27ae60;font-family:'Segoe UI', Arial, sans-serif;">Brake Repair</h3>
                <p>Expert brake inspection and replacement services.</p>
                <button onclick="selectService('Brake Repair')" class="menu-btn" style="margin-top:1rem;">Book Now</button>
            </div>
            <div class="service-container" style="background:#f7fff7;padding:2rem 1.5rem;border-radius:14px;box-shadow:0 2px 12px rgba(39,174,96,0.08);max-width:340px;width:100%;text-align:center;transition:box-shadow 0.3s,border 0.3s,transform 0.3s;border:2px solid transparent;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;">
                <h3 class="typewriter-on-scroll" style="color:#27ae60;font-family:'Segoe UI', Arial, sans-serif;">Engine Diagnostics</h3>
                <p>Advanced diagnostic services for all engine issues.</p>
                <button onclick="selectService('Engine Diagnostics')" class="menu-btn" style="margin-top:1rem;">Book Now</button>
            </div>
            <div class="service-container" style="background:#f7fff7;padding:2rem 1.5rem;border-radius:14px;box-shadow:0 2px 12px rgba(39,174,96,0.08);max-width:340px;width:100%;text-align:center;transition:box-shadow 0.3s,border 0.3s,transform 0.3s;border:2px solid transparent;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;">
                <h3 class="typewriter-on-scroll" style="color:#27ae60;font-family:'Segoe UI', Arial, sans-serif;">Tire Services</h3>
                <p>Tire rotation, balancing, and replacement.</p>
                <button onclick="selectService('Tire Services')" class="menu-btn" style="margin-top:1rem;">Book Now</button>
            </div>
        </div>
    </section>

    <!-- Booking Section -->
    <section class="meals-section" id="bookingSection" style="display:none;">
        <h2 class="typewriter-on-scroll">Book Your Garage Service</h2>
        <div style="max-width:600px;margin:0 auto;">
            <form id="garageBookingForm">
                <div style="display:flex;gap:1rem;margin-bottom:1rem;">
                    <div style="flex:1;">
                        <label for="serviceName" style="display:block;margin-bottom:0.5rem;font-weight:600;">Selected Service</label>
                        <input type="text" id="serviceName" readonly style="width:100%;padding:0.75rem;border:1px solid #ddd;border-radius:8px;">
                    </div>
                </div>
                <div style="display:flex;gap:1rem;margin-bottom:1rem;">
                    <div style="flex:1;">
                        <label for="customerName" style="display:block;margin-bottom:0.5rem;font-weight:600;">Full Name</label>
                        <input type="text" id="customerName" required style="width:100%;padding:0.75rem;border:1px solid #ddd;border-radius:8px;">
                    </div>
                    <div style="flex:1;">
                        <label for="customerPhone" style="display:block;margin-bottom:0.5rem;font-weight:600;">Phone Number</label>
                        <input type="tel" id="customerPhone" required style="width:100%;padding:0.75rem;border:1px solid #ddd;border-radius:8px;">
                    </div>
                </div>
                <div style="display:flex;gap:1rem;margin-bottom:1rem;">
                    <div style="flex:1;">
                        <label for="customerEmail" style="display:block;margin-bottom:0.5rem;font-weight:600;">Email</label>
                        <input type="email" id="customerEmail" required style="width:100%;padding:0.75rem;border:1px solid #ddd;border-radius:8px;">
                    </div>
                </div>
                <div style="display:flex;gap:1rem;margin-bottom:1rem;">
                    <div style="flex:1;">
                        <label for="vehicleType" style="display:block;margin-bottom:0.5rem;font-weight:600;">Vehicle Type</label>
                        <select id="vehicleType" required style="width:100%;padding:0.75rem;border:1px solid #ddd;border-radius:8px;">
                            <option value="">Select Vehicle Type</option>
                            <option value="Sedan">Sedan</option>
                            <option value="SUV">SUV</option>
                            <option value="Truck">Truck</option>
                            <option value="Motorcycle">Motorcycle</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div style="flex:1;">
                        <label for="vehicleModel" style="display:block;margin-bottom:0.5rem;font-weight:600;">Vehicle Model</label>
                        <input type="text" id="vehicleModel" placeholder="e.g. Toyota Corolla" style="width:100%;padding:0.75rem;border:1px solid #ddd;border-radius:8px;">
                    </div>
                </div>
                <div style="display:flex;gap:1rem;margin-bottom:1rem;">
                    <div style="flex:1;">
                        <label for="serviceDate" style="display:block;margin-bottom:0.5rem;font-weight:600;">Preferred Date</label>
                        <input type="date" id="serviceDate" required style="width:100%;padding:0.75rem;border:1px solid #ddd;border-radius:8px;">
                    </div>
                    <div style="flex:1;">
                        <label for="serviceTime" style="display:block;margin-bottom:0.5rem;font-weight:600;">Preferred Time</label>
                        <select id="serviceTime" style="width:100%;padding:0.75rem;border:1px solid #ddd;border-radius:8px;">
                            <option value="">Select Time</option>
                            <option value="8:00 AM">8:00 AM</option>
                            <option value="9:00 AM">9:00 AM</option>
                            <option value="10:00 AM">10:00 AM</option>
                            <option value="11:00 AM">11:00 AM</option>
                            <option value="12:00 PM">12:00 PM</option>
                            <option value="1:00 PM">1:00 PM</option>
                            <option value="2:00 PM">2:00 PM</option>
                            <option value="3:00 PM">3:00 PM</option>
                            <option value="4:00 PM">4:00 PM</option>
                            <option value="5:00 PM">5:00 PM</option>
                        </select>
                    </div>
                </div>
                <div style="margin-bottom:1rem;">
                    <label for="notes" style="display:block;margin-bottom:0.5rem;font-weight:600;">Additional Notes</label>
                    <textarea id="notes" rows="3" placeholder="Any specific requirements or notes..." style="width:100%;padding:0.75rem;border:1px solid #ddd;border-radius:8px;"></textarea>
                </div>
                <button type="submit" class="menu-btn" style="width:100%;padding:1rem;">Submit Booking Request</button>
            </form>
        </div>
    </section>

    <!-- Why Choose Us -->
    <section class="why-us">
        <h2 class="typewriter-on-scroll">Why Choose Our Garage</h2>
        <div class="reasons-container">
            <div class="reason">
                <img src="images/1.jpg" alt="Expert Mechanics">
                <h3 class="typewriter-on-scroll">Expert Mechanics</h3>
                <p>Our certified technicians provide top-quality service.</p>
            </div>
            <div class="reason">
                <img src="images/piki.png">
                <h3 class="typewriter-on-scroll">Quick Service</h3>
                <p>Efficient repairs without compromising on quality.</p>
            </div>
            <div class="reason">
                <img src="images/pesa.jpeg">
                <h3 class="typewriter-on-scroll">Affordable Prices</h3>
                <p>Competitive pricing for all our services.</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="social-icons">
            <a href="#"><i class="fab fa-facebook"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-linkedin"></i></a>
            <a href="#"><i class="fab fa-youtube"></i></a>
        </div>
        <p class="built-by">
            Proudly built with <i class="fas fa-heart" style="color:red"></i>
        </p>
        <p class="copyright">
            &copy; 2025 Aticas Cafe. All rights reserved.
        </p>
    </footer>

    <div id="toast" class="toast"></div>
    <script src="js/script.js"></script>
    <script>
    function selectService(serviceName) {
        document.getElementById('serviceName').value = serviceName;
        document.getElementById('bookingSection').style.display = 'block';
        document.getElementById('bookingSection').scrollIntoView({ behavior: 'smooth' });
    }

    document.getElementById('garageBookingForm').addEventListener('submit', async function(e) {
        e.preventDefault();

        const bookingData = {
            serviceType: 'garage',
            serviceName: document.getElementById('serviceName').value,
            name: document.getElementById('customerName').value,
            phone: document.getElementById('customerPhone').value,
            email: document.getElementById('customerEmail').value,
            vehicleType: document.getElementById('vehicleType').value,
            vehicleModel: document.getElementById('vehicleModel').value,
            date: document.getElementById('serviceDate').value,
            time: document.getElementById('serviceTime').value,
            notes: document.getElementById('notes').value
        };

        try {
            const response = await fetch('https://aticas-backend.onrender.com/api/service-bookings', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(bookingData)
            });

            const result = await response.json();

            if (result.success) {
                alert('Booking request submitted successfully! We will contact you soon.');

                // Store booking for guest users
                const token = localStorage.getItem('userToken');
                if (!token) {
                    try {
                        const existing = JSON.parse(localStorage.getItem('guestBookings') || '[]');
                        existing.unshift(result.booking);
                        localStorage.setItem('guestBookings', JSON.stringify(existing.slice(0, 20)));
                    } catch (_) {
                        localStorage.setItem('guestBookings', JSON.stringify([result.booking]));
                    }
                }

                document.getElementById('garageBookingForm').reset();
                document.getElementById('bookingSection').style.display = 'none';
            } else {
                alert('Failed to submit booking. Please try again.');
            }
        } catch (error) {
            console.error('Booking error:', error);
            alert('Failed to submit booking. Please try again.');
        }
    });
    </script>
</body>
</html>